{% extends "blank.html" %}

<!-- page specific plugin styles -->
{% block styles %}

<!-- end ofpage specific plugin styles -->
{% endblock %}
<!-- -->
{% block navigator%}
<li>
    <a href="#">Get directions</a>
</li>

{% endblock %}

<!-- navbar code-->
{% block navbar %}
<ul class="nav nav-list">
    <li class="">
        <a href="{{('index')}}">
            <i class="menu-icon fa fa-dashboard"></i>
            <span class="menu-text"> Dashboard </span>
        </a>
        <b class="arrow"></b>
    </li>

    <li class="">
        <a href="{{('Patientnotification')}}">
            <i class="menu-icon fa fa-user-md"></i>
            <span class="menu-text">Patients Notifications</span>
        </a>

        <b class="arrow"></b>
    </li>

    <li class="active open">
        <a href="{{('getdirections')}}">
            <i class="menu-icon fa fa-compass"></i>
            <span class="menu-text"> Get Direction </span>
        </a>
        <b class="arrow"></b>
    </li>

    <li class="">
        <a href="index.html">
            <i class="menu-icon fa fa-anchor"></i>
            <span class="menu-text"> Distance Matrix </span>
        </a>
        <b class="arrow"></b>
    </li>

    <li class="">
        <a href="{{('mapview')}}">
            <i class="menu-icon fa fa-desktop"></i>
            <span class="menu-text">Map View</span>
        </a>

        <b class="arrow"></b>
    </li>

    <li class="">
        <a href="{{('hospitals')}}">
            <i class="menu-icon fa fa-hospital-o"></i>
            <span class="menu-text"> Hospitals </span>
        </a>

        <b class="arrow"></b>
    </li>

    <li class="">
        <a href="{{('patients')}}">
            <i class="menu-icon fa fa-user-md"></i>
            <span class="menu-text">Patients</span>
        </a>

        <b class="arrow"></b>
    </li>

    <li class="">
        <a href="#" class="dropdown-toggle">
            <i class="menu-icon fa fa-user"></i>

            <span class="menu-text">
                    Manage Users
                    <span class="badge badge-primary">2</span>
            </span>

            <b class="arrow fa fa-angle-down"></b>
        </a>

        <b class="arrow"></b>

        <ul class="submenu">
            <li class="">
                <a href="{{('newpatient')}}">
                    <i class="menu-icon fa fa-wheelchair"></i> Patients
                </a>

                <b class="arrow"></b>
            </li>

            <li class="">
                <a href="{{('newadministrator')}}">
                    <i class="menu-icon fa fa-cogs"></i> Administrators
                </a>

                <b class="arrow"></b>
            </li>

            <li class="">
                <a href="{{('newadministrator')}}">
                    <i class="menu-icon fa fa-ambulance"></i> Response Team
                </a>

                <b class="arrow"></b>
            </li>

        </ul>
    </li>

    <li class="">
        <a href="index.html">
            <i class="menu-icon fa fa-book"></i>
            <span class="menu-text">History</span>
        </a>

        <b class="arrow"></b>
    </li>
</ul>
<!-- end navbar code -->
{% endblock %}


<!-- page content code-->
{% block content %}
<div id="map">
</div>

<div>
    <input id="start" type="textbox" value="" style="width: 300px;">
    <input type="button" value="Get Route" onclick="calcRoute()">
</div>
{% for hospital in hospitals %}
<li class="">
    <a href="index.html">
        <i class="menu-icon fa fa-book"></i>
        <span class="menu-text">{{hospital.lattitude}}{% endfor %}
<div id="floating-panel">
    <div id="right-panel"></div>
</div>
{% endblock %}
<!-- end of page content code-->

<!-- page specific plugin scripts -->
{% block javascript %}
<<<<<<< HEAD
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAjr3yQIuvCqJPfMRVwNh5SOWfI9uy35ww&callback=initMap" async defer></script>
=======
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCdeObotK5Ch7wK7tPvcX8pffSWXpBz-V8&callback=initMap" async defer></script>
>>>>>>> a0db0f1b4cac7998601b97a7544d393746066fe3
<!-- inline scripts related to this page -->
("{% for hospital in hospitals %}")
<script>
    var map;
    var myLatLng = {
        
        lat: parseFloat("{{hospital.lattitude}}"),
        lng: parseFloat("{{hospital.longitude}}")
        
    };

    var map;
    function initMap() {
      map = new google.maps.Map(document.getElementById('map'), {
        zoom: 12,
        center: {lat: -17.310495, lng: 31.3230222}
       
      });

      var centerMaker = new google.maps.Marker({
        position: new google.maps.LatLng(-17.310495, 31.3230222),
        map: map,
        title: "BINDURA UNIVERSITY OF SCIENCE EDUCATION"
    });

      var iconBase = 'https://maps.google.com/mapfiles/kml/shapes/';
      var icons = {
        parking: {
          icon: iconBase + 'capital_big.png'
        }, terrain: {
          icon: iconBase + 'capital_big.png'
        },
        library: {
          icon: iconBase + 'road_shield1.png'
        },
        info: {
          icon: iconBase + 'capital_big_highlight.png'
        }
      };

      var features = [
          {
            position: myLatLng,
            type: 'info'
          }
        ];

        // Create markers.
        features.forEach(function(feature) {
          var marker = new google.maps.Marker({
            position: feature.position,
            icon: icons[feature.type].icon,
            map: map
          });
		  var contentString = '<div class="info-window">' +
                
               '<h2> <img style="height:50px" src="assets/images/profile-photo.jpg" alt /> "{{hospital.lattitude}}"</h2>' +
               '<h4>"{{hospital.lattitude}}"</h4>' +
                '<div class="info-content">' +
                '<p>"{{hospital.lattitude}}"</p>' +
                '<a href="#modalConfirm" role="button" class="btn btn-red" data-toggle="modal">View Report</a>   <a href=""{{index}}""<button class="btn btn-blue">Get Directions</button> </a>   <button class="btn btn-slategray">Assign Officer</button>' +
				'</div>' +
                '</div>';

        var infowindow = new google.maps.InfoWindow({
            content: contentString,
            maxWidth: 400
        });

        marker.addListener('click', function () {
            infowindow.open(map, marker);
        });
        });
      
    }
</script>
("{% endfor %}")
<!-- page javascripts end -->
{% endblock %}